## Codebase Patterns
- Use `CGO_ENABLED=0` for all Go build/vet commands (required for modernc.org/sqlite)
- Go binary is at `/home/node/go/bin/go` - use `export PATH="$PATH:/home/node/go/bin"` before Go commands
- Database connection uses modernc.org/sqlite (pure Go implementation, no CGO)
- Add new table migrations to the `migrate()` function in db/db.go - always use `CREATE TABLE IF NOT EXISTS`

---

## 2026-01-26 - US-001
- Initial project scaffolding with cobra CLI framework
- Created main.go and cmd/root.go with root and version commands
- Files changed: main.go, cmd/root.go, go.mod, go.sum
- **Learnings for future iterations:**
  - Typecheck with CGO_ENABLED=0 to avoid CGO issues
  - cobra CLI structure: main.go calls cmd.Execute(), cmd/root.go defines rootCmd

---

## 2026-01-26 - US-002
- What was implemented: SQLite database setup with Open function
- Files changed: db/db.go, go.mod, go.sum
- **Learnings for future iterations:**
  - Database file stored at ~/.local/share/tagging-rugby-cli/data.db
  - Uses modernc.org/sqlite for pure Go SQLite (no CGO required)
  - db.Open() creates parent directories automatically
  - Always verify connection with db.Ping() before returning

---

## 2026-01-26 - US-003
- What was implemented: Notes table migration with idempotent CREATE TABLE IF NOT EXISTS
- Files changed: db/db.go
- **Learnings for future iterations:**
  - Migrations run automatically via migrate() helper in db.Open()
  - Add future table migrations to the migrate() function
  - Each table creation should use CREATE TABLE IF NOT EXISTS for idempotency

---

## 2026-01-26 - US-004
- What was implemented: Clips table migration for storing video segments
- Files changed: db/db.go
- **Learnings for future iterations:**
  - Follow same pattern as notes table: add to migrate() function with CREATE TABLE IF NOT EXISTS
  - Clips table stores start_seconds and end_seconds (REAL) to define video segments

---

## 2026-01-26 - US-005
- What was implemented: Categories table migration with default category seeding
- Files changed: db/db.go
- **Learnings for future iterations:**
  - Use `INSERT OR IGNORE INTO` for idempotent seeding of default values
  - Default categories: try, tackle, turnover, lineout, scrum, penalty, kick
  - Categories table has UNIQUE constraint on name column

---

## 2026-01-26 - US-006
- What was implemented: Tackles table migration for detailed tackle tracking
- Files changed: db/db.go
- **Learnings for future iterations:**
  - Use SQLite CHECK constraint for enum-like fields: `outcome TEXT CHECK(outcome IN ('missed', 'completed', 'possible', 'other'))`
  - Star field is INTEGER (0/1) since SQLite has no native boolean type

---
